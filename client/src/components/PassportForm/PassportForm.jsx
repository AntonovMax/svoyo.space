import React, { useRef } from 'react';

import styles from './PassportForm.module.css'

function PassportForm(props) {

  const eventName = useRef()
  const surname = useRef()
  const name = useRef()
  const patronymic = useRef()
  const gender = useRef()
  const birth = useRef()
  const born = useRef()
  const phone = useRef()
  const email = useRef()

  const hours = useRef()
  const minutes = useRef()
  const date = useRef()
  



  const handlerSubmit = async (event) => {
    event.preventDefault();

    const response = fetch('http://localhost:5000/event/add_visitor', {
      method: 'POST',
      credentials: 'include',
      headers: {
        'Content-type': 'application/json'
      },
      body: JSON.stringify({ name: name.current.value, surname: surname.current.value, patronymic: patronymic.current.value, birth: birth.current.value, event: eventName.current.innerText, phone: phone.current.value, email: email.current.value }),
    })
    const data = await response
    console.log(data);
  }

  return (
    <form className={styles.form_block} onSubmit={handlerSubmit}>
        

        <input name='surname' ref={surname} className={styles.surname} defaultValue='Igor' type="text" />
        <input name='name' ref={name} className={styles.name} defaultValue='Igor' type="text" />
        <input name='patronymic' ref={patronymic} className={styles.patronymic} defaultValue='Igor' type="text" />
        <input name='gender' ref={gender} className={styles.gender} defaultValue='Igor' type="text" />
        <input name='birth' ref={birth} className={styles.birth} defaultValue='22122001' type="text" />
        <input name='born' ref={born} className={styles.born} defaultValue='Igor' type="text" />
        <input name='phone' ref={phone} className={styles.phone} defaultValue='890232030' type="text" />

        <div className={styles.form_block_date}>
          <p ref={hours} className={styles.form_block_date_p1}>12</p>
          <p ref={minutes} className={styles.form_block_date_p2}>30</p>
          <p ref={date} className={styles.form_block_date_p3}>010122</p>
        </div>
        <div className={styles.form_block_info}>
          <p ref={eventName} className={styles.form_block_info_p1}>СВОЯ_ТУСОВКА_12:30_01/01/22_НАБЕРЕЖНАЯ_КАНАЛА_ГРИБОЕДОВА_123_ЕЩЕ_ТУ<br />Т_БУДУТ_ПРИКОЛЫ_НО_ПОКА_ОБОЙДЕТЕСЬ_БЕЗ_ПРИКОЛО<br />В_НИКАКИХ_ПРИКОЛОВ_ЗАПРЕЩАЮ_ПРИКОЛЫ</p>
        </div>

      <button>
        <svg className={styles.form_block_save} width="250" height="59" viewBox="0 0 250 59" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M249.241 50.3408L235.926 42.6287L235.905 58.0164L249.241 50.3408ZM0.99817 51.3326L237.246 51.657L237.25 48.9917L1.00183 48.6674L0.99817 51.3326Z" fill="#FF0000" />
          <path d="M17.4239 28.7507L21.3025 29.3647C20.8567 32.746 19.7332 35.3266 17.9321 37.1062C16.1488 38.8859 14 39.7758 11.4856 39.7758C8.43621 39.7758 5.92181 38.53 3.94239 36.0384C1.9808 33.5291 1 29.8274 1 24.9333C1 20.0036 1.98971 16.3107 3.96914 13.8548C5.96639 11.381 8.52538 10.1442 11.6461 10.1442C14.0535 10.1442 16.0775 10.8916 17.7181 12.3865C19.3765 13.8815 20.4376 16.1239 20.9012 19.1137L17.0761 19.8345C16.7016 17.9124 16.0508 16.4798 15.1235 15.5366C14.1962 14.5755 13.0816 14.095 11.7798 14.095C9.83608 14.095 8.22222 14.9582 6.93827 16.6845C5.67215 18.393 5.03909 21.1159 5.03909 24.8532C5.03909 28.7151 5.6454 31.5092 6.85802 33.2355C8.08848 34.9617 9.65775 35.8249 11.5658 35.8249C13.0638 35.8249 14.3388 35.2554 15.3909 34.1164C16.4609 32.9596 17.1385 31.171 17.4239 28.7507Z" fill="#FF0000" />
          <path d="M23.1481 24.96C23.1481 20.0658 24.1735 16.373 26.2243 13.8815C28.2929 11.3899 30.9053 10.1442 34.0617 10.1442C37.1646 10.1442 39.7593 11.3899 41.8457 13.8815C43.9321 16.373 44.9753 19.968 44.9753 24.6663C44.9753 29.7562 43.9499 33.5469 41.8992 36.0384C39.8484 38.53 37.2359 39.7758 34.0617 39.7758C30.941 39.7758 28.3374 38.53 26.251 36.0384C24.1824 33.5291 23.1481 29.8363 23.1481 24.96ZM27.1872 24.96C27.1872 28.6261 27.856 31.3579 29.1934 33.1554C30.5309 34.935 32.1893 35.8249 34.1687 35.8249C36.0233 35.8249 37.6104 34.9261 38.93 33.1287C40.2675 31.3134 40.9362 28.5905 40.9362 24.96C40.9362 21.3116 40.2675 18.5976 38.93 16.8179C37.5926 15.0205 35.9342 14.1217 33.9547 14.1217C32.0823 14.1217 30.4863 15.0205 29.1667 16.8179C27.847 18.6154 27.1872 21.3294 27.1872 24.96Z" fill="#FF0000" />
          <path d="M47.035 39.1351L55.5412 24.3994L47.677 10.7848H52.5988L56.1831 17.4319C56.8429 18.6599 57.3868 19.7188 57.8148 20.6087C58.4746 19.3985 59.0631 18.3574 59.5802 17.4853L63.5123 10.7848H68.2202L60.1687 24.1324L68.8354 39.1351H63.9938L59.2058 30.3257L57.9486 27.9498L51.823 39.1351H47.035Z" fill="#FF0000" />
          <path d="M72.072 50V10.7848H75.6831V14.4688C76.5748 12.9382 77.5645 11.8348 78.6523 11.1586C79.7401 10.4823 80.9883 10.1442 82.3971 10.1442C84.2339 10.1442 85.8923 10.687 87.3724 11.7726C88.8525 12.8582 90.0384 14.5133 90.93 16.7379C91.8395 18.9447 92.2942 21.6053 92.2942 24.7197C92.2942 29.5426 91.2778 33.2621 89.2449 35.8783C87.2298 38.4766 84.858 39.7758 82.1296 39.7758C80.917 39.7758 79.7846 39.4643 78.7325 38.8414C77.6804 38.2185 76.7709 37.3376 76.0041 36.1986V50H72.072ZM75.6296 25.1201C75.6296 28.7863 76.2449 31.4914 77.4753 33.2355C78.7058 34.9617 80.1948 35.8249 81.9424 35.8249C83.6187 35.8249 85.0898 34.9261 86.356 33.1287C87.6221 31.3312 88.2551 28.5549 88.2551 24.7998C88.2551 21.0981 87.6399 18.3574 86.4095 16.5777C85.179 14.798 83.6811 13.9082 81.9156 13.9082C80.3285 13.9082 78.8841 14.8692 77.5823 16.7912C76.2805 18.6955 75.6296 21.4718 75.6296 25.1201Z" fill="#FF0000" />
          <path d="M112.249 35.638C110.929 37.0084 109.556 38.0406 108.13 38.7346C106.703 39.4287 105.223 39.7758 103.689 39.7758C101.264 39.7758 99.3292 39.0461 97.8848 37.5868C96.4403 36.1274 95.7181 34.1609 95.7181 31.6871C95.7181 30.0498 96.0569 28.5994 96.7346 27.3358C97.4122 26.0723 98.3395 25.0845 99.5165 24.3727C100.693 23.6608 102.477 23.1358 104.866 22.7977C108.076 22.3349 110.43 21.7832 111.928 21.1426L111.955 19.9146C111.955 17.9747 111.607 16.6133 110.912 15.8302C109.931 14.6912 108.424 14.1217 106.391 14.1217C104.554 14.1217 103.181 14.5044 102.272 15.2696C101.362 16.0171 100.693 17.4319 100.265 19.5141L96.3868 18.8735C96.9396 15.8302 98.0542 13.6145 99.7305 12.2264C101.425 10.8382 103.841 10.1442 106.979 10.1442C109.422 10.1442 111.34 10.6069 112.73 11.5323C114.121 12.4399 114.995 13.57 115.352 14.9226C115.726 16.2751 115.914 18.2506 115.914 20.8489V27.2557C115.914 31.7405 115.994 34.5702 116.154 35.7448C116.333 36.9016 116.671 38.0317 117.171 39.1351H113.051C112.641 38.1563 112.374 36.9906 112.249 35.638ZM111.928 24.9066C110.484 25.6184 108.335 26.2235 105.481 26.7218C103.823 27.0066 102.664 27.3358 102.004 27.7096C101.344 28.0655 100.827 28.5816 100.453 29.2579C100.096 29.9164 99.9177 30.6816 99.9177 31.5537C99.9177 32.9062 100.337 33.9918 101.175 34.8105C102.013 35.6113 103.172 36.0117 104.652 36.0117C106.061 36.0117 107.336 35.6469 108.477 34.9172C109.636 34.1876 110.501 33.2177 111.072 32.0075C111.643 30.7795 111.928 28.9998 111.928 26.6684V24.9066Z" fill="#FF0000" />
          <path d="M122.119 10.7848H126.051V22.5841H137.019V10.7848H140.951V39.1351H137.019V26.5617H126.051V39.1351H122.119V10.7848Z" fill="#FF0000" />
          <path d="M146.942 10.7848H150.874V32.4079L161.842 10.7848H166.095V39.1351H162.163V17.6455L151.195 39.1351H146.942V10.7848Z" fill="#FF0000" />
          <path d="M169.947 10.7848H188.885V14.7624H181.395V39.1351H177.436V14.7624H169.947V10.7848Z" fill="#FF0000" />
          <path d="M192.603 10.7848H196.535V21.8633H201.564C205.166 21.8633 207.761 22.7087 209.348 24.3994C210.935 26.0901 211.728 28.1367 211.728 30.5392C211.728 32.8172 211.006 34.8194 209.562 36.5457C208.135 38.2719 205.772 39.1351 202.473 39.1351H192.603V10.7848ZM196.535 35.1842H200.681C203.695 35.1842 205.612 34.7037 206.432 33.7427C207.252 32.7816 207.663 31.7227 207.663 30.5659C207.663 29.0532 207.19 27.8875 206.245 27.0689C205.3 26.2502 203.623 25.8409 201.216 25.8409H196.535V35.1842Z" fill="#FF0000" />
          <path d="M218.309 29.418L217.105 8.67592V0H222V8.67592L220.877 29.418H218.309ZM217.292 39.1351V33.6626H221.813V39.1351H217.292Z" fill="#FF0000" />
        </svg>

      </button>
    </form>
  );
}

export default PassportForm;
